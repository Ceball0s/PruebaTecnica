<h2>ğŸ“‹ Lista de Eventos</h2>

<table class="eventos-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>DescripciÃ³n</th>
      <th>Inicio</th>
      <th>Fin</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let evento of eventos">
      <td>{{ evento.id }}</td>
      <td>{{ evento.nombre }}</td>
      <td>{{ evento.descripcion }}</td>
      <td>{{ evento.fecha_inicio | date: 'yyyy-MM-dd' }}</td>
      <td>{{ evento.fecha_fin | date: 'yyyy-MM-dd' }}</td>
      <td>
        <button (click)="verEvento(evento)">ğŸ‘ï¸ Ver</button>
        <button (click)="editarEvento(evento)">âœï¸ Editar</button>
        <button (click)="eliminarEvento(evento.id!)">ğŸ—‘ï¸ Borrar</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- BotÃ³n para mostrar formulario -->
<div class="acciones">
  <button (click)="mostrarFormulario = !mostrarFormulario">
    {{ mostrarFormulario ? 'âŒ Cancelar' : 'â• Crear Evento' }}
  </button>
</div>

<!-- Formulario de creaciÃ³n -->
<div *ngIf="mostrarFormulario" class="form-container">
  <h3>Crear Evento</h3>
  <form (ngSubmit)="crearEvento()">
    <label>Nombre:</label>
    <input [(ngModel)]="nuevoEvento.nombre" name="nombre" required>

    <label>DescripciÃ³n:</label>
    <input [(ngModel)]="nuevoEvento.descripcion" name="descripcion">

    <label>Fecha inicio:</label>
    <input type="date" [(ngModel)]="nuevoEvento.fecha_inicio" name="fecha_inicio" required>

    <label>Fecha fin:</label>
    <input type="date" [(ngModel)]="nuevoEvento.fecha_fin" name="fecha_fin" required>

    <button type="submit">âœ… Guardar</button>
  </form>
</div>

<!-- Detalle de evento -->
<div *ngIf="eventoSeleccionado" class="detalle-evento">
  <h3>ğŸ“Œ Detalle de Evento</h3>
  <p><strong>ID:</strong> {{ eventoSeleccionado.id }}</p>
  <p><strong>Nombre:</strong> {{ eventoSeleccionado.nombre }}</p>
  <p><strong>DescripciÃ³n:</strong> {{ eventoSeleccionado.descripcion }}</p>
  <p><strong>Inicio:</strong> {{ eventoSeleccionado.fecha_inicio | date: 'yyyy-MM-dd' }}</p>
  <p><strong>Fin:</strong> {{ eventoSeleccionado.fecha_fin | date: 'yyyy-MM-dd' }}</p>
  <button (click)="eventoSeleccionado = null">âŒ Cerrar</button>
</div>

<!-- Formulario de ediciÃ³n -->
<div *ngIf="editandoEvento" class="form-container">
  <h3>âœï¸ Editar Evento</h3>
  <form (ngSubmit)="guardarEdicion()">
    <label>Nombre:</label>
    <input [(ngModel)]="editandoEvento.nombre" name="nombre">

    <label>DescripciÃ³n:</label>
    <input [(ngModel)]="editandoEvento.descripcion" name="descripcion">

    <label>Fecha inicio:</label>
    <input type="date" [(ngModel)]="editandoEvento.fecha_inicio" name="fecha_inicio">

    <label>Fecha fin:</label>
    <input type="date" [(ngModel)]="editandoEvento.fecha_fin" name="fecha_fin">

    <button type="submit">ğŸ’¾ Guardar</button>
    <button type="button" (click)="editandoEvento = null">âŒ Cancelar</button>
  </form>
</div>
